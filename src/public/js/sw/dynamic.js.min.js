importScripts("../lib/localforage.js"),importScripts("/dynamic/dynamic.config.js"),importScripts("/dynamic/dynamic.worker.js"),localforage.config({driver:localforage.INDEXEDDB,name:"Ruby",version:1,storeName:"ruby_config",description:"Ruby Config for things in sw"});const promise=new Promise((async i=>{try{const i=await localforage.getItem("bare");self.__dynamic$config.bare.path=i,self.dynamic=new Dynamic(self.__dynamic$config)}catch(i){console.error(i)}i()}));self.addEventListener("fetch",(function(i){i.respondWith(async function(){try{await promise}catch(i){}if(await self.dynamic.route(i))return await self.dynamic.fetch(i);await fetch(i.request)}())}));