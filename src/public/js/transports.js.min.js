const wispUrl=localStorage.getItem("wispUrl")||("https:"===location.protocol?"wss":"ws")+"://"+location.host+"/wisp/";function setTransports(t){switch(t){case"libcurl":setLibcurlTransport();break;case"epoxy":setEpoxyTransport();break;case"bare":setBareTransport(localStorage.getItem("bare"));break;default:!function(){switch(localStorage.getItem("transports")){case"libcurl":default:setLibcurlTransport();break;case"epoxy":setEpoxyTransport();break;case"bare":setBareTransport(localStorage.getItem("bare"))}}()}}function setLibcurlTransport(){BareMux.SetTransport("CurlMod.LibcurlClient",{wisp:localStorage.getItem("wispUrl")||wispUrl,wasm:"https://cdn.jsdelivr.net/npm/libcurl.js@v0.5.3/libcurl.wasm"})}function setDefaultTransport(){localStorage.getItem("transports")?setTransports():(localStorage.setItem("transports","libcurl"),setLibcurlTransport())}function refreshEpoxyTransport(){setTransports()}function setEpoxyTransport(){BareMux.SetTransport("EpxMod.EpoxyClient",{wisp:localStorage.getItem("wispUrl")||wispUrl})}function setBareTransport(t){BareMux.SetTransport("BareMod.BareClient",t)}