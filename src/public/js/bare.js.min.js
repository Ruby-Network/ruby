function bareInit(){localforage.config({driver:localforage.INDEXEDDB,name:"Ruby",version:1,storeName:"ruby_config",description:"Ruby Config for things in sw"}),localforage.setItem("bare",window.location.origin+"/bare/"),localStorage.setItem("bare","/bare/"),uninstallAllSW2()}function bareChange(e){localforage.config({driver:localforage.INDEXEDDB,name:"Ruby",version:1,storeName:"ruby_config",description:"Ruby Config for things in sw"}),localforage.setItem("bare",e).then((function(e){""===e&&(e=window.location.origin+"/bare/",localforage.setItem("bare",e),localStorage.setItem("bare",e)),e.endsWith("/")||(e+="/",localforage.setItem("bare",e),localStorage.setItem("bare",e)),e.startsWith("http://")||e.startsWith("https://")||"/bare/"===e||"/bare"===e||(e="https://"+e,localforage.setItem("bare",e),localStorage.setItem("bare",e)),"/bare/"!==e&&"/bare"!==e||(e=window.location.origin+e,localforage.setItem("bare",e),localStorage.setItem("bare",e)),setBareTransport(localStorage.getItem("bare")),setItems()})).catch((function(e){console.log(e)}))}function updateSw(){navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.update()}))}function uninstallAllSW(){navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.unregister()})).then((function(){window.location.reload()}))}function uninstallAllSW2(){navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.unregister()})).then((function(){regSW()}))}